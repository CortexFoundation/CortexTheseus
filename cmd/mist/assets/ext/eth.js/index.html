<!doctype>
<html>

<head>
<script type="text/javascript" src="main.js"></script>
<script type="text/javascript" src="websocket.js"></script>
<script type="text/javascript" src="qt.js"></script>
<script type="text/javascript" src="httprpc.js"></script>
<script type="text/javascript">
function registerName() {
    var name = document.querySelector("#name").value;
    name = web3.fromAscii(name);

    var eth = web3.eth;
    eth.transact({to: "NameReg", gas: "10000", gasPrice: eth.gasPrice, data: [web3.fromAscii("register"), name]}).then(function(tx) {
        document.querySelector("#result").innerHTML = "Registered name. Please wait for the next block to come through.";
    }, function(err) {
        console.log(err); 
    });
}
</script>
</head>

<body>

<h1>std::name_reg</h1>
<input type="text" id="name"></input>
<input type="submit" onClick="registerName();"></input>
<div id="result"></div>

</body>

</html>
